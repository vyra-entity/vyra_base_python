{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://variobotic.com/vyra/schemas/type_definitions.schema.json",
    "title": "VYRA Interface Type Definitions",
    "description": "Single source of truth for all datatype mappings used in VYRA interface config files (*_meta.json). Consumed by: (1) generate_interfaces.py to build TYPE_MAP / proto_map at runtime, (2) validate_config_schema() to inject a strict enum into the interface_config JSON Schema for the 'datatype' field.",
    "version": "1.0.0",
    "ros2_map": {
        "_comment": "JSON/Python type name -> ROS2 IDL type. Array variants (key ending in '[]') declare the element type; the [] suffix is handled by map_type() in the generator.",
        "bool":       "bool",
        "boolean":    "bool",
        "int":        "int32",
        "int8":       "int8",
        "int16":      "int16",
        "int32":      "int32",
        "int64":      "int64",
        "uint":       "uint32",
        "uint8":      "uint8",
        "uint16":     "uint16",
        "uint32":     "uint32",
        "uint64":     "uint64",
        "float":      "float32",
        "float32":    "float32",
        "float64":    "float64",
        "double":     "float64",
        "str":        "string",
        "string":     "string",
        "datetime":   "builtin_interfaces/Time",
        "time":       "builtin_interfaces/Time",
        "duration":   "builtin_interfaces/Duration",
        "string[]":   "string",
        "int[]":      "int32",
        "int32[]":    "int32",
        "float[]":    "float32",
        "bool[]":     "bool"
    },
    "proto_map": {
        "_comment": "JSON/Python type name -> Protobuf scalar type. Used by generate_interfaces.py _map_to_proto_type().",
        "bool":       "bool",
        "boolean":    "bool",
        "int8":       "int32",
        "uint8":      "uint32",
        "int16":      "int32",
        "uint16":     "uint32",
        "int32":      "int32",
        "int64":      "int64",
        "uint32":     "uint32",
        "uint64":     "uint64",
        "float":      "float",
        "float32":    "float",
        "float64":    "double",
        "double":     "double",
        "str":        "string",
        "string":     "string",
        "datetime":   "int64",
        "time":       "int64",
        "duration":   "int64"
    },
    "valid_ros2_native_types": {
        "_comment": "ROS2 IDL primitive types accepted verbatim (no mapping needed). These are pass-through types used directly in generated .msg/.srv/.action files.",
        "types": [
            "bool",
            "byte",
            "char",
            "int8",
            "uint8",
            "int16",
            "uint16",
            "int32",
            "uint32",
            "int64",
            "uint64",
            "float32",
            "float64",
            "string"
        ]
    }
}
